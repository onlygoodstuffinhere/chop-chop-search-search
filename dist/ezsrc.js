!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";e.exports=function(e){var t,r,h,A,E,I,g,C="",w="",H=0,y=e.length,O=y-1;e=String(e).toUpperCase()+"     ",t=o.test(e),r=i.test(e),g=e.split(""),a.test(e)&&H++;"X"===g[0]&&(C+="S",w+="S",H++);for(;H<y;)switch(E=g[H-1],A=g[H+1],I=g[H+2],g[H]){case"A":case"E":case"I":case"O":case"U":case"Y":case"À":case"Ê":case"É":0===H&&(C+="A",w+="A"),H++;break;case"B":C+="P",w+="P","B"===A&&H++,H++;break;case"Ç":C+="S",w+="S",H++;break;case"C":if("A"===E&&"H"===A&&"I"!==I&&!n.test(g[H-2])&&("E"!==I||(h=e.slice(H-2,H+4)&&("BACHER"===h||"MACHER"===h)))){C+="K",w+="K",H+=2;break}if(0===H&&"AESAR"===e.slice(H+1,H+6)){C+="S",w+="S",H+=2;break}if("HIA"===e.slice(H+1,H+4)){C+="K",w+="K",H+=2;break}if("H"===A){if(H>0&&"A"===I&&"E"===g[H+3]){C+="K",w+="X",H+=2;break}if(0===H&&s.test(e)){C+="K",w+="K",H+=2;break}r||c.test(e.slice(H-2,H+4))||"T"===I||"S"===I||(0===H||"A"===E||"E"===E||"O"===E||"U"===E)&&l.test(I)?(C+="K",w+="K"):0===H?(C+="X",w+="X"):"MC"===e.slice(0,2)?(C+="K",w+="K"):(C+="X",w+="K"),H+=2;break}if("Z"===A&&"WI"!==e.slice(H-2,H)){C+="S",w+="X",H+=2;break}if("CIA"===e.slice(H+1,H+4)){C+="X",w+="X",H+=3;break}if("C"===A&&(1!==H||"M"!==g[0])){if("I"!==I&&"E"!==I&&"H"!==I||"HU"===e.slice(H+2,H+4)){C+="K",w+="K",H+=2;break}h=e.slice(H-1,H+4),1===H&&"A"===E||"UCCEE"===h||"UCCES"===h?(C+="KS",w+="KS"):(C+="X",w+="X"),H+=3;break}if("G"===A||"K"===A||"Q"===A){C+="K",w+="K",H+=2;break}if("I"===A&&("E"===I||"O"===I)){C+="S",w+="X",H+=2;break}if("I"===A||"E"===A||"Y"===A){C+="S",w+="S",H+=2;break}if(C+="K",w+="K"," "===A&&("C"===I||"G"===I||"Q"===I)){H+=3;break}H++;break;case"D":if("G"===A){"E"===I||"I"===I||"Y"===I?(C+="J",w+="J",H+=3):(C+="TK",w+="TK",H+=2);break}if("T"===A||"D"===A){C+="T",w+="T",H+=2;break}C+="T",w+="T",H++;break;case"F":"F"===A&&H++,H++,C+="F",w+="F";break;case"G":if("H"===A){if(H>0&&!n.test(E)){C+="K",w+="K",H+=2;break}if(0===H){"I"===I?(C+="J",w+="J"):(C+="K",w+="K"),H+=2;break}if("B"===(h=g[H-2])||"H"===h||"D"===h||("B"===(h=g[H-3])||"H"===h||"D"===h)||("B"===(h=g[H-4])||"H"===h)){H+=2;break}H>2&&"U"===E&&f.test(g[H-3])?(C+="F",w+="F"):H>0&&"I"!==E&&(C+="K",w+="K"),H+=2;break}if("N"===A){1===H&&n.test(g[0])&&!t?(C+="KN",w+="N"):"EY"===e.slice(H+2,H+4)||"Y"===e.slice(H+1)||t?(C+="KN",w+="KN"):(C+="N",w+="KN"),H+=2;break}if("LI"===e.slice(H+1,H+3)&&!t){C+="KL",w+="L",H+=2;break}if(0===H&&u.test(e.slice(1,3))){C+="K",w+="J",H+=2;break}if("ER"===e.slice(H+1,H+3)&&"I"!==E&&"E"!==E&&!b.test(e.slice(0,6))||"Y"===A&&!d.test(E)){C+="K",w+="J",H+=2;break}if("E"===A||"I"===A||"Y"===A||("A"===E||"O"===E)&&"G"===A&&"I"===I){"ET"===e.slice(H+1,H+3)||r?(C+="K",w+="K"):(C+="J","IER "===e.slice(H+1,H+5)?w+="J":w+="K"),H+=2;break}"G"===A&&H++,H++,C+="K",w+="K";break;case"H":n.test(A)&&(0===H||n.test(E))&&(C+="H",w+="H",H++),H++;break;case"J":if("JOSE"===e.slice(H,H+4)||"SAN "===e.slice(0,4)){"SAN "===e.slice(0,4)||0===H&&" "===g[H+4]?(C+="H",w+="H"):(C+="J",w+="H"),H++;break}0===H?(C+="J",w+="A"):t||"A"!==A&&"O"!==A||!n.test(E)?H===O?C+="J":"S"===E||"K"===E||"L"===E||k.test(A)?"J"===A&&H++:(C+="J",w+="J"):(C+="J",w+="H"),H++;break;case"K":"K"===A&&H++,C+="K",w+="K",H++;break;case"L":if("L"===A){if(H===y-3&&("A"===E&&"E"===I||"I"===E&&("O"===I||"A"===I))||"A"===E&&"E"===I&&("A"===g[O]||"O"===g[O]||S.test(e.slice(O-1,y)))){C+="L",H+=2;break}H++}C+="L",w+="L",H++;break;case"M":"M"!==A&&("U"!==E||"B"!==A||H+1!==O&&"ER"!==e.slice(H+2,H+4))||H++,H++,C+="M",w+="M";break;case"N":"N"===A&&H++,H++,C+="N",w+="N";break;case"Ñ":H++,C+="N",w+="N";break;case"P":if("H"===A){C+="F",w+="F",H+=2;break}"P"!==(h=A)&&"B"!==h||H++,H++,C+="P",w+="P";break;case"Q":"Q"===A&&H++,H++,C+="K",w+="K";break;case"R":H!==O||t||"E"!==E||"I"!==g[H-2]||"M"===g[H-4]||"E"===g[H-3]||"A"===g[H-3]?(C+="R",w+="R"):w+="R","R"===A&&H++,H++;break;case"S":if("L"===A&&("I"===E||"Y"===E)){H++;break}if(0===H&&"UGAR"===e.slice(1,5)){C+="X",w+="S",H++;break}if("H"===A){p.test(e.slice(H+1,H+5))?(C+="S",w+="S"):(C+="X",w+="X"),H+=2;break}if("I"===A&&("O"===I||"A"===I)){t?(C+="S",w+="S"):(C+="S",w+="X"),H+=3;break}if("Z"===A||0===H&&("L"===A||"M"===A||"N"===A||"W"===A)){C+="S",w+="X","Z"===A&&H++,H++;break}if("C"===A){if("H"===I){if(h=e.slice(H+3,H+5),K.test(h)){"ER"===h||"EN"===h?(C+="X",w+="SK"):(C+="SK",w+="SK"),H+=3;break}0!==H||n.test(g[3])||"W"===g[3]?(C+="X",w+="X"):(C+="X",w+="S"),H+=3;break}if("I"===I||"E"===I||"Y"===I){C+="S",w+="S",H+=3;break}C+="SK",w+="SK",H+=3;break}h=e.slice(H-2,H),H!==O||"AI"!==h&&"OI"!==h?(C+="S",w+="S"):w+="S","S"===A&&H++,H++;break;case"T":if("I"===A&&"O"===I&&"N"===g[H+3]){C+="X",w+="X",H+=3;break}if(h=e.slice(H+1,H+3),"I"===A&&"A"===I||"C"===A&&"H"===I){C+="X",w+="X",H+=3;break}if("H"===A||"T"===A&&"H"===I){r||("O"===I||"A"===I)&&"M"===g[H+3]?(C+="T",w+="T"):(C+="0",w+="T"),H+=2;break}"T"!==A&&"D"!==A||H++,H++,C+="T",w+="T";break;case"V":"V"===A&&H++,C+="F",w+="F",H++;break;case"W":if("R"===A){C+="R",w+="R",H+=2;break}if(0===H&&(n.test(A)?(C+="A",w+="F"):"H"===A&&(C+="A",w+="A")),("E"===E||"O"===E)&&"S"===A&&"K"===I&&("I"===g[H+3]||"Y"===g[H+3])||"SCH"===e.slice(0,3)||H===O&&n.test(E)){w+="F",H++;break}if("I"===A&&("C"===I||"T"===I)&&"Z"===g[H+3]){C+="TS",w+="FX",H+=4;break}H++;break;case"X":(H!==O||"U"!==E||"A"!==g[H-2]&&"O"!==g[H-2])&&(C+="KS",w+="KS"),"C"!==A&&"X"!==A||H++,H++;break;case"Z":if("H"===A){C+="J",w+="J",H+=2;break}"Z"===A&&("A"===I||"I"===I||"O"===I)||t&&H>0&&"T"!==E?(C+="S",w+="TS"):(C+="S",w+="S"),"Z"===A&&H++,H++;break;default:H++}return[C,w]};var n=/[AEIOUY]/,o=/W|K|CZ|WITZ/,i=/^(VAN |VON |SCH)/,a=/^(GN|KN|PN|WR|PS)/,s=/^CH(IA|EM|OR([^E])|YM|ARAC|ARIS)/,c=/ORCHES|ARCHIT|ORCHID/,l=/[ BFHLMNRVW]/,f=/[CGLRT]/,u=/Y[\s\S]|E[BILPRSY]|I[BELN]/,b=/^[DMR]ANGER/,d=/[EGIR]/,k=/[LTKSNMBZ]/,S=/AS|OS/,p=/EIM|OEK|OLM|OLZ/,K=/E[DMNR]|UY|OO/},function(e,t,r){(function(e){var n;!function(){"use strict";var o;try{o="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){console.log("Collator could not be initialized and wouldn't be used")}var i=[],a=[],s={get:function(e,t,r){var n,s,c,l,f,u,b=r&&o&&r.useCollator,d=e.length,k=t.length;if(0===d)return k;if(0===k)return d;for(c=0;c<k;++c)i[c]=c,a[c]=t.charCodeAt(c);if(i[k]=k,b)for(c=0;c<d;++c){for(s=c+1,l=0;l<k;++l)n=s,u=0===o.compare(e.charAt(c),String.fromCharCode(a[l])),(s=i[l]+(u?0:1))>(f=n+1)&&(s=f),s>(f=i[l+1]+1)&&(s=f),i[l]=n;i[l]=s}else for(c=0;c<d;++c){for(s=c+1,l=0;l<k;++l)n=s,u=e.charCodeAt(c)===a[l],(s=i[l]+(u?0:1))>(f=n+1)&&(s=f),s>(f=i[l+1]+1)&&(s=f),i[l]=n;i[l]=s}return s}};null!==r(4)&&r(3)?void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n):void 0!==e&&null!==e&&void 0!==t&&e.exports===t?e.exports=s:"undefined"!=typeof self&&"function"==typeof self.postMessage&&"function"==typeof self.importScripts?self.Levenshtein=s:"undefined"!=typeof window&&null!==window&&(window.Levenshtein=s)}()}).call(this,r(5)(e))},function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),i=r(0),a=r.n(i),s=2,c={toLowerCase:f,tokenize:u,filterEmptyString:b,rTree:l,levenshtein:function(e,t){let r=o.a.get(e,t);return 1-2*r/(e.length+t.length+r)},toSearchable:function(e){let t=[];return d(e).forEach(function(e){t=t.concat(a()(e))}),Array.from(new Set(t))},toComparable:function(e){let t=d(e);return Array.from(new Set(t))},toIndexable:function(e){let t=[];d(e).forEach(function(e){t=t.concat(a()(e))});let r=[];return(t=Array.from(new Set(t))).forEach(function(e){r=r.concat(l(e))}),r=Array.from(new Set(r))}};function l(e){if(e.length<=s)return[e];{let t=[];for(let r=s;r<=e.length;r++)t.push(e.substr(0,r));return t}}function f(e){return e.toLowerCase()}function u(e){return e.split(/\W/)}function b(e){return""!==e}function d(e){return u(f(e)).filter(b)}var k=new Map,S=new Map,p={index:function(e){e.forEach(function(e,t){if(!S.has(t)){S.set(t,e);let r=[];r=c.toIndexable(e.title);for(let e of r)if(k.has(e)){let r=k.get(e);r.push(t),k.set(e,r)}else{let r=[""+t];k.set(e,r)}}})},getBMId:function(e){let t=[];return e.constructor===Array?e.forEach(function(e){k.has(e)&&(t=t.concat(k.get(e)))}):k.has(e)&&t.push(k.get(e)),t},getBM:function(e){let t=[];return e.constructor===Array?e.forEach(function(e){S.has(e)&&t.push(S.get(e))}):S.has(e)&&t.push(S.get(e)),t},disindex:function(e){S.has(e)&&(S.delete(e),k.forEach(function(t,r){let n=t.indexOf(e);-1!==n&&((t=t.splice(n,1)).length>0?k.set(r,t):k.delete(r))}))}},K={getAll:async function(){try{return function e(t){let r=new Map;if("folder"===t.type)for(let i of t.children)for(var[n,o]of e(i))r.set(n,o);else if("bookmark"===t.type){let e={};e.title=t.title,e.url=t.url,e.date=t.dateAdded,e.id=t.id,r.set(e.id,e)}return r}((await browser.bookmarks.getTree())[0])}catch(e){console.log(`fugg ${e}`)}},init:function(){browser.bookmarks.onCreated.addListener(h),browser.bookmarks.onRemoved.addListener(A)}};function h(e,t){let r={},n=new Map;r.title=t.title,r.url=t.url,r.date=t.dateAdded,r.id=e,n.set(r.id,r),p.index(n)}function A(e,t){let r=e;p.disindex(r)}var E={queryToBookmarks:function(e){let t=c.toSearchable(e),r=p.getBMId(t),n=p.getBM(r);return n=function(e,t){let r=c.toComparable(t),n=[];return e.forEach(function(e){let t=c.toComparable(e.title),o=0;for(let e of r)for(let r of t)c.levenshtein(e,r)>=.85&&o++;n.push({score:o,item:e})}),(n=n.filter(e=>e.score>0)).sort(I),console.log("scored bookmarks"),console.log(n),n.map(function(e){return e.item})}(n=Array.from(new Set(n)),e)}};function I(e,t){return e.score>t.score?-1:e.score<t.score?1:e.score===t.score?e.date>t.date?-1:1:0}var g=function(){browser.omnibox.onInputChanged.addListener(w),browser.omnibox.onInputEntered.addListener(C),browser.omnibox.setDefaultSuggestion({description:"CHOP CHOP'S SEARCH SEARCH - type at least 3 characters"})};function C(e,t){switch(t){case"currentTab":browser.tabs.update({url:e});break;case"newForegroundTab":browser.tabs.create({url:e});break;case"newBackgroundTab":browser.tabs.create({url:e,active:!1})}}function w(e,t){if(console.log("searching for query : "+e),e.length<3)return void t({content:"",description:"Sry, no results. Please type at lest 3 characters."});let r=E.queryToBookmarks(e).map(function(e){return{content:e.url,description:e.title}});0!==r.length?t(r):t({content:"",description:"Sry, no results. Please type at lest 3 characters."})}browser.runtime.onInstalled.addListener(function(){K.getAll().then(function(e){p.index(e)})}),g(),K.init()},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]);