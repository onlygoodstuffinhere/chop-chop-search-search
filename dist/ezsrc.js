!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";e.exports=function(e){var t,r,g,A,K,E,I,C="",v="",H=0,y=e.length,w=y-1;e=String(e).toUpperCase()+"     ",t=o.test(e),r=a.test(e),I=e.split(""),i.test(e)&&H++;"X"===I[0]&&(C+="S",v+="S",H++);for(;H<y;)switch(K=I[H-1],A=I[H+1],E=I[H+2],I[H]){case"A":case"E":case"I":case"O":case"U":case"Y":case"À":case"Ê":case"É":0===H&&(C+="A",v+="A"),H++;break;case"B":C+="P",v+="P","B"===A&&H++,H++;break;case"Ç":C+="S",v+="S",H++;break;case"C":if("A"===K&&"H"===A&&"I"!==E&&!n.test(I[H-2])&&("E"!==E||(g=e.slice(H-2,H+4)&&("BACHER"===g||"MACHER"===g)))){C+="K",v+="K",H+=2;break}if(0===H&&"AESAR"===e.slice(H+1,H+6)){C+="S",v+="S",H+=2;break}if("HIA"===e.slice(H+1,H+4)){C+="K",v+="K",H+=2;break}if("H"===A){if(H>0&&"A"===E&&"E"===I[H+3]){C+="K",v+="X",H+=2;break}if(0===H&&c.test(e)){C+="K",v+="K",H+=2;break}r||s.test(e.slice(H-2,H+4))||"T"===E||"S"===E||(0===H||"A"===K||"E"===K||"O"===K||"U"===K)&&f.test(E)?(C+="K",v+="K"):0===H?(C+="X",v+="X"):"MC"===e.slice(0,2)?(C+="K",v+="K"):(C+="X",v+="K"),H+=2;break}if("Z"===A&&"WI"!==e.slice(H-2,H)){C+="S",v+="X",H+=2;break}if("CIA"===e.slice(H+1,H+4)){C+="X",v+="X",H+=3;break}if("C"===A&&(1!==H||"M"!==I[0])){if("I"!==E&&"E"!==E&&"H"!==E||"HU"===e.slice(H+2,H+4)){C+="K",v+="K",H+=2;break}g=e.slice(H-1,H+4),1===H&&"A"===K||"UCCEE"===g||"UCCES"===g?(C+="KS",v+="KS"):(C+="X",v+="X"),H+=3;break}if("G"===A||"K"===A||"Q"===A){C+="K",v+="K",H+=2;break}if("I"===A&&("E"===E||"O"===E)){C+="S",v+="X",H+=2;break}if("I"===A||"E"===A||"Y"===A){C+="S",v+="S",H+=2;break}if(C+="K",v+="K"," "===A&&("C"===E||"G"===E||"Q"===E)){H+=3;break}H++;break;case"D":if("G"===A){"E"===E||"I"===E||"Y"===E?(C+="J",v+="J",H+=3):(C+="TK",v+="TK",H+=2);break}if("T"===A||"D"===A){C+="T",v+="T",H+=2;break}C+="T",v+="T",H++;break;case"F":"F"===A&&H++,H++,C+="F",v+="F";break;case"G":if("H"===A){if(H>0&&!n.test(K)){C+="K",v+="K",H+=2;break}if(0===H){"I"===E?(C+="J",v+="J"):(C+="K",v+="K"),H+=2;break}if("B"===(g=I[H-2])||"H"===g||"D"===g||("B"===(g=I[H-3])||"H"===g||"D"===g)||("B"===(g=I[H-4])||"H"===g)){H+=2;break}H>2&&"U"===K&&l.test(I[H-3])?(C+="F",v+="F"):H>0&&"I"!==K&&(C+="K",v+="K"),H+=2;break}if("N"===A){1===H&&n.test(I[0])&&!t?(C+="KN",v+="N"):"EY"===e.slice(H+2,H+4)||"Y"===e.slice(H+1)||t?(C+="KN",v+="KN"):(C+="N",v+="KN"),H+=2;break}if("LI"===e.slice(H+1,H+3)&&!t){C+="KL",v+="L",H+=2;break}if(0===H&&u.test(e.slice(1,3))){C+="K",v+="J",H+=2;break}if("ER"===e.slice(H+1,H+3)&&"I"!==K&&"E"!==K&&!b.test(e.slice(0,6))||"Y"===A&&!d.test(K)){C+="K",v+="J",H+=2;break}if("E"===A||"I"===A||"Y"===A||("A"===K||"O"===K)&&"G"===A&&"I"===E){"ET"===e.slice(H+1,H+3)||r?(C+="K",v+="K"):(C+="J","IER "===e.slice(H+1,H+5)?v+="J":v+="K"),H+=2;break}"G"===A&&H++,H++,C+="K",v+="K";break;case"H":n.test(A)&&(0===H||n.test(K))&&(C+="H",v+="H",H++),H++;break;case"J":if("JOSE"===e.slice(H,H+4)||"SAN "===e.slice(0,4)){"SAN "===e.slice(0,4)||0===H&&" "===I[H+4]?(C+="H",v+="H"):(C+="J",v+="H"),H++;break}0===H?(C+="J",v+="A"):t||"A"!==A&&"O"!==A||!n.test(K)?H===w?C+="J":"S"===K||"K"===K||"L"===K||k.test(A)?"J"===A&&H++:(C+="J",v+="J"):(C+="J",v+="H"),H++;break;case"K":"K"===A&&H++,C+="K",v+="K",H++;break;case"L":if("L"===A){if(H===y-3&&("A"===K&&"E"===E||"I"===K&&("O"===E||"A"===E))||"A"===K&&"E"===E&&("A"===I[w]||"O"===I[w]||S.test(e.slice(w-1,y)))){C+="L",H+=2;break}H++}C+="L",v+="L",H++;break;case"M":"M"!==A&&("U"!==K||"B"!==A||H+1!==w&&"ER"!==e.slice(H+2,H+4))||H++,H++,C+="M",v+="M";break;case"N":"N"===A&&H++,H++,C+="N",v+="N";break;case"Ñ":H++,C+="N",v+="N";break;case"P":if("H"===A){C+="F",v+="F",H+=2;break}"P"!==(g=A)&&"B"!==g||H++,H++,C+="P",v+="P";break;case"Q":"Q"===A&&H++,H++,C+="K",v+="K";break;case"R":H!==w||t||"E"!==K||"I"!==I[H-2]||"M"===I[H-4]||"E"===I[H-3]||"A"===I[H-3]?(C+="R",v+="R"):v+="R","R"===A&&H++,H++;break;case"S":if("L"===A&&("I"===K||"Y"===K)){H++;break}if(0===H&&"UGAR"===e.slice(1,5)){C+="X",v+="S",H++;break}if("H"===A){h.test(e.slice(H+1,H+5))?(C+="S",v+="S"):(C+="X",v+="X"),H+=2;break}if("I"===A&&("O"===E||"A"===E)){t?(C+="S",v+="S"):(C+="S",v+="X"),H+=3;break}if("Z"===A||0===H&&("L"===A||"M"===A||"N"===A||"W"===A)){C+="S",v+="X","Z"===A&&H++,H++;break}if("C"===A){if("H"===E){if(g=e.slice(H+3,H+5),p.test(g)){"ER"===g||"EN"===g?(C+="X",v+="SK"):(C+="SK",v+="SK"),H+=3;break}0!==H||n.test(I[3])||"W"===I[3]?(C+="X",v+="X"):(C+="X",v+="S"),H+=3;break}if("I"===E||"E"===E||"Y"===E){C+="S",v+="S",H+=3;break}C+="SK",v+="SK",H+=3;break}g=e.slice(H-2,H),H!==w||"AI"!==g&&"OI"!==g?(C+="S",v+="S"):v+="S","S"===A&&H++,H++;break;case"T":if("I"===A&&"O"===E&&"N"===I[H+3]){C+="X",v+="X",H+=3;break}if(g=e.slice(H+1,H+3),"I"===A&&"A"===E||"C"===A&&"H"===E){C+="X",v+="X",H+=3;break}if("H"===A||"T"===A&&"H"===E){r||("O"===E||"A"===E)&&"M"===I[H+3]?(C+="T",v+="T"):(C+="0",v+="T"),H+=2;break}"T"!==A&&"D"!==A||H++,H++,C+="T",v+="T";break;case"V":"V"===A&&H++,C+="F",v+="F",H++;break;case"W":if("R"===A){C+="R",v+="R",H+=2;break}if(0===H&&(n.test(A)?(C+="A",v+="F"):"H"===A&&(C+="A",v+="A")),("E"===K||"O"===K)&&"S"===A&&"K"===E&&("I"===I[H+3]||"Y"===I[H+3])||"SCH"===e.slice(0,3)||H===w&&n.test(K)){v+="F",H++;break}if("I"===A&&("C"===E||"T"===E)&&"Z"===I[H+3]){C+="TS",v+="FX",H+=4;break}H++;break;case"X":(H!==w||"U"!==K||"A"!==I[H-2]&&"O"!==I[H-2])&&(C+="KS",v+="KS"),"C"!==A&&"X"!==A||H++,H++;break;case"Z":if("H"===A){C+="J",v+="J",H+=2;break}"Z"===A&&("A"===E||"I"===E||"O"===E)||t&&H>0&&"T"!==K?(C+="S",v+="TS"):(C+="S",v+="S"),"Z"===A&&H++,H++;break;default:H++}return[C,v]};var n=/[AEIOUY]/,o=/W|K|CZ|WITZ/,a=/^(VAN |VON |SCH)/,i=/^(GN|KN|PN|WR|PS)/,c=/^CH(IA|EM|OR([^E])|YM|ARAC|ARIS)/,s=/ORCHES|ARCHIT|ORCHID/,f=/[ BFHLMNRVW]/,l=/[CGLRT]/,u=/Y[\s\S]|E[BILPRSY]|I[BELN]/,b=/^[DMR]ANGER/,d=/[EGIR]/,k=/[LTKSNMBZ]/,S=/AS|OS/,h=/EIM|OEK|OLM|OLZ/,p=/E[DMNR]|UY|OO/},function(e,t,r){(function(e){var n;!function(){"use strict";var o;try{o="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){console.log("Collator could not be initialized and wouldn't be used")}var a=[],i=[],c={get:function(e,t,r){var n,c,s,f,l,u,b=r&&o&&r.useCollator,d=e.length,k=t.length;if(0===d)return k;if(0===k)return d;for(s=0;s<k;++s)a[s]=s,i[s]=t.charCodeAt(s);if(a[k]=k,b)for(s=0;s<d;++s){for(c=s+1,f=0;f<k;++f)n=c,u=0===o.compare(e.charAt(s),String.fromCharCode(i[f])),(c=a[f]+(u?0:1))>(l=n+1)&&(c=l),c>(l=a[f+1]+1)&&(c=l),a[f]=n;a[f]=c}else for(s=0;s<d;++s){for(c=s+1,f=0;f<k;++f)n=c,u=e.charCodeAt(s)===i[f],(c=a[f]+(u?0:1))>(l=n+1)&&(c=l),c>(l=a[f+1]+1)&&(c=l),a[f]=n;a[f]=c}return c}};null!==r(5)&&r(4)?void 0===(n=function(){return c}.call(t,r,t,e))||(e.exports=n):void 0!==e&&null!==e&&void 0!==t&&e.exports===t?e.exports=c:"undefined"!=typeof self&&"function"==typeof self.postMessage&&"function"==typeof self.importScripts?self.Levenshtein=c:"undefined"!=typeof window&&null!==window&&(window.Levenshtein=c)}()}).call(this,r(6)(e))},function(e,t,r){var n;!function(o){"use strict";function a(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,n,o,i){return a((c=a(a(t,e),a(n,i)))<<(s=o)|c>>>32-s,r);var c,s}function c(e,t,r,n,o,a,c){return i(t&r|~t&n,e,t,o,a,c)}function s(e,t,r,n,o,a,c){return i(t&n|r&~n,e,t,o,a,c)}function f(e,t,r,n,o,a,c){return i(t^r^n,e,t,o,a,c)}function l(e,t,r,n,o,a,c){return i(r^(t|~n),e,t,o,a,c)}function u(e,t){var r,n,o,i,u;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var b=1732584193,d=-271733879,k=-1732584194,S=271733878;for(r=0;r<e.length;r+=16)n=b,o=d,i=k,u=S,d=l(d=l(d=l(d=l(d=f(d=f(d=f(d=f(d=s(d=s(d=s(d=s(d=c(d=c(d=c(d=c(d,k=c(k,S=c(S,b=c(b,d,k,S,e[r],7,-680876936),d,k,e[r+1],12,-389564586),b,d,e[r+2],17,606105819),S,b,e[r+3],22,-1044525330),k=c(k,S=c(S,b=c(b,d,k,S,e[r+4],7,-176418897),d,k,e[r+5],12,1200080426),b,d,e[r+6],17,-1473231341),S,b,e[r+7],22,-45705983),k=c(k,S=c(S,b=c(b,d,k,S,e[r+8],7,1770035416),d,k,e[r+9],12,-1958414417),b,d,e[r+10],17,-42063),S,b,e[r+11],22,-1990404162),k=c(k,S=c(S,b=c(b,d,k,S,e[r+12],7,1804603682),d,k,e[r+13],12,-40341101),b,d,e[r+14],17,-1502002290),S,b,e[r+15],22,1236535329),k=s(k,S=s(S,b=s(b,d,k,S,e[r+1],5,-165796510),d,k,e[r+6],9,-1069501632),b,d,e[r+11],14,643717713),S,b,e[r],20,-373897302),k=s(k,S=s(S,b=s(b,d,k,S,e[r+5],5,-701558691),d,k,e[r+10],9,38016083),b,d,e[r+15],14,-660478335),S,b,e[r+4],20,-405537848),k=s(k,S=s(S,b=s(b,d,k,S,e[r+9],5,568446438),d,k,e[r+14],9,-1019803690),b,d,e[r+3],14,-187363961),S,b,e[r+8],20,1163531501),k=s(k,S=s(S,b=s(b,d,k,S,e[r+13],5,-1444681467),d,k,e[r+2],9,-51403784),b,d,e[r+7],14,1735328473),S,b,e[r+12],20,-1926607734),k=f(k,S=f(S,b=f(b,d,k,S,e[r+5],4,-378558),d,k,e[r+8],11,-2022574463),b,d,e[r+11],16,1839030562),S,b,e[r+14],23,-35309556),k=f(k,S=f(S,b=f(b,d,k,S,e[r+1],4,-1530992060),d,k,e[r+4],11,1272893353),b,d,e[r+7],16,-155497632),S,b,e[r+10],23,-1094730640),k=f(k,S=f(S,b=f(b,d,k,S,e[r+13],4,681279174),d,k,e[r],11,-358537222),b,d,e[r+3],16,-722521979),S,b,e[r+6],23,76029189),k=f(k,S=f(S,b=f(b,d,k,S,e[r+9],4,-640364487),d,k,e[r+12],11,-421815835),b,d,e[r+15],16,530742520),S,b,e[r+2],23,-995338651),k=l(k,S=l(S,b=l(b,d,k,S,e[r],6,-198630844),d,k,e[r+7],10,1126891415),b,d,e[r+14],15,-1416354905),S,b,e[r+5],21,-57434055),k=l(k,S=l(S,b=l(b,d,k,S,e[r+12],6,1700485571),d,k,e[r+3],10,-1894986606),b,d,e[r+10],15,-1051523),S,b,e[r+1],21,-2054922799),k=l(k,S=l(S,b=l(b,d,k,S,e[r+8],6,1873313359),d,k,e[r+15],10,-30611744),b,d,e[r+6],15,-1560198380),S,b,e[r+13],21,1309151649),k=l(k,S=l(S,b=l(b,d,k,S,e[r+4],6,-145523070),d,k,e[r+11],10,-1120210379),b,d,e[r+2],15,718787259),S,b,e[r+9],21,-343485551),b=a(b,n),d=a(d,o),k=a(k,i),S=a(S,u);return[b,d,k,S]}function b(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function d(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function k(e){var t,r,n="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),n+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return n}function S(e){return unescape(encodeURIComponent(e))}function h(e){return function(e){return b(u(d(e),8*e.length))}(S(e))}function p(e,t){return function(e,t){var r,n,o=d(e),a=[],i=[];for(a[15]=i[15]=void 0,o.length>16&&(o=u(o,8*e.length)),r=0;r<16;r+=1)a[r]=909522486^o[r],i[r]=1549556828^o[r];return n=u(a.concat(d(t)),512+8*t.length),b(u(i.concat(n),640))}(S(e),S(t))}function g(e,t,r){return t?r?p(t,e):k(p(t,e)):r?h(e):k(h(e))}void 0===(n=function(){return g}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){"use strict";r.r(t);var n=r(2),o=r.n(n),a={getAll:async function(){try{return function e(t){let r=new Map;if("folder"===t.type)for(let o of t.children)for(var[n,a]of e(o))r.set(n,a);else if("bookmark"===t.type){let e={};e.title=t.title,e.url=t.url,e.date=t.dateAdded,e.id=o()(e.url+e.title),r.set(e.id,e)}return r}((await browser.bookmarks.getTree())[0])}catch(e){console.log(`fugg ${e}`)}}};var i=r(1),c=r.n(i),s=r(0),f=r.n(s),l=2,u={toLowerCase:d,tokenize:k,filterEmptyString:S,rTree:b,levenshtein:function(e,t){let r=c.a.get(e,t);return 1-2*r/(e.length+t.length+r)},toSearchable:function(e){let t=[];return h(e).forEach(function(e){t=t.concat(f()(e))}),Array.from(new Set(t))},toComparable:function(e){let t=h(e);return Array.from(new Set(t))},toIndexable:function(e){let t=[];h(e).forEach(function(e){t=t.concat(f()(e))});let r=[];return(t=Array.from(new Set(t))).forEach(function(e){r=r.concat(b(e))}),r=Array.from(new Set(r))}};function b(e){if(e.length<=l)return[e];{let t=[];for(let r=l;r<=e.length;r++)t.push(e.substr(0,r));return t}}function d(e){return e.toLowerCase()}function k(e){return e.split(/\W/)}function S(e){return""!==e}function h(e){return k(d(e)).filter(S)}var p=new Map,g={},A={index:function(e){g=e,e.forEach(function(e,t){let r=[];r=u.toIndexable(e.title);for(let e of r)if(p.has(e)){let r=p.get(e);r.push(t),p.set(e,r)}else{let r=[""+t];p.set(e,r)}}),console.log(e),console.log(p)},getBMId:function(e){let t=[];return e.constructor===Array?e.forEach(function(e){p.has(e)&&(t=t.concat(p.get(e)))}):p.has(e)&&t.push(p.get(e)),t},getBM:function(e){let t=[];return e.constructor===Array?e.forEach(function(e){g.has(e)&&t.push(g.get(e))}):g.has(e)&&t.push(g.get(e)),t}},K={queryToBookmarks:function(e){let t=u.toSearchable(e),r=A.getBMId(t),n=A.getBM(r);return n=Array.from(new Set(n)),console.log("query : "+e),n=function(e,t){let r=u.toComparable(t),n=[];return e.forEach(function(e){let t=u.toComparable(e.title),o=0;for(let e of r)for(let r of t)u.levenshtein(e,r)>=.85&&o++;n.push({score:o,item:e})}),(n=n.filter(e=>e.score>0)).sort(E),console.log("scored bookmarks"),console.log(n),n.map(function(e){return e.item})}(n,e)}};function E(e,t){return e.score>t.score?-1:e.score<t.score?1:e.score===t.score?e.date>t.date?-1:1:0}var I=function(){browser.omnibox.onInputChanged.addListener(v),browser.omnibox.onInputEntered.addListener(C),browser.omnibox.setDefaultSuggestion({description:"CHOP CHOP'S SEARCH SEARCH - type at least 3 characters"})};function C(e,t){switch(t){case"currentTab":browser.tabs.update({url:e});break;case"newForegroundTab":browser.tabs.create({url:e});break;case"newBackgroundTab":browser.tabs.create({url:e,active:!1})}}function v(e,t){if(console.log("searching for query : "+e),e.length<3)return void t({content:"",description:"Sry, no results. Please type at lest 3 characters."});let r=K.queryToBookmarks(e).map(function(e){return{content:e.url,description:e.title}});0!==r.length?t(r):t({content:"",description:"Sry, no results. Please type at lest 3 characters."})}console.log("script is loaded"),console.log("import test : "),browser.runtime.onInstalled.addListener(function(){a.getAll().then(function(e){A.index(e)})}),I()},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]);